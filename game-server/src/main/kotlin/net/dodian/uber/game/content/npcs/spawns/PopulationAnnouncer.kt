package net.dodian.uber.game.content.npcs.spawns

// AUTO-GENERATED by game-server/scripts/generate_npc_spawn_groups.py

import net.dodian.uber.game.Constants
import net.dodian.uber.game.model.entity.npc.Npc
import net.dodian.uber.game.model.entity.player.Client
import net.dodian.uber.game.model.entity.player.PlayerHandler

internal object PopulationAnnouncer {
    // Stats: 3306: r=60 a=0 d=0 s=0 hp=0 rg=0 mg=0

    val entries: List<NpcSpawnDef> = listOf(
        NpcSpawnDef(npcId = 3306, x = 3086, y = 3506, z = 0, face = 0),
    )

    @Suppress("UNUSED_PARAMETER")
    fun onFirstClick(client: Client, npc: Npc): Boolean {
        var peopleInEdge = 0
        var peopleInWild = 0
        for (index in 0 until Constants.maxPlayers) {
            val checkPlayer = PlayerHandler.players[index] as? Client ?: continue
            if (checkPlayer.inWildy()) {
                peopleInWild++
            } else if (checkPlayer.inEdgeville()) {
                peopleInEdge++
            }
        }
        client.showNPCChat(
            3306,
            590,
            arrayOf(
                "There is currently $peopleInWild player${if (peopleInWild != 1) "s" else ""} in the wild!",
                "There is $peopleInEdge player${if (peopleInEdge != 1) "s" else ""} in Edgeville!",
            ),
        )
        return true
    }
}
